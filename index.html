<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/>
    <link rel="stylesheet" href="style.css"/>
    <script type="text/javascript" src="Cobalt-Web/cobalt.min.js"></script>
</head>
<body>
    <p>Welcome to the HelloWorld app&nbsp;!
        Please use a pull-to-refresh gesture to change the message below.
        If it works, then you are ready to build your first app :)
    </p>
    <p id="hello">Please, pull page to refresh :)</p>

    <script>
      var messages = ["Yes it works!", "Hello!", "Bonjour !", "guten Tag!", "Ola !"];
      var messageIndex = 0;

      cobalt.init();

      cobalt.subscribe("cobalt:onPullToRefresh", function() {
        cobalt.log('refreshing content...');

        // change "hello" to a new message content.
        document.getElementById("hello").innerHTML = messages[messageIndex];
        //loop over messages
        messageIndex++;
        if (messageIndex > messages.length) {
          messageIndex = 0;
        }
        // important : dont forget to dismiss the pullToRefresh !
        cobalt.pullToRefresh.dismiss();
      });
    </script>
</body>
</html>
